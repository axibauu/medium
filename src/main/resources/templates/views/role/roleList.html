<!-- BEGIN PAGE HEADER-->
<div>
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-home"></i>
                <a href="#">设置管理</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="#">角色管理</a>
            </li>
        </ul>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="portlet light bordered">
                <div class="portlet-title">
                    <div class="caption caption-md">
                        <i class="icon-bar-chart font-green"></i>
                        <span class="caption-subject font-green bold uppercase"> 角色管理</span>
                    </div>
                </div>
                <div class="portlet-body">
                    <div class="table-toolbar">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="btn-group">
                                    <button id="sample_editable_1_new" class="btn sbold green" ng-click="newRole()"> 新增
                                        <i class="fa fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <table class="table table-striped table-bordered table-hover table-checkable sortField-column"
                           id="sample_1">
                        <thead>
                        <tr>
                            <th>
                                <label>
                                    <span>#</span>
                                </label>
                            </th>
                            <th>角色名</th>
                         <!--   <th>code</th>-->
                            <th>编辑</th>
                            <th>删除</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr class="odd gradeX" ng-repeat="role in roleList">
                            <td>
                                <label>
                                    <span>{{$index+1}}</span>

                                </label>
                            </td>
                            <td>{{role.name}}</td>
                          <!--  <td>{{role.code}}</td>-->
                            <td>
                                <a href="" ng-click="editRole(role)">编辑</a>
                            </td>
                            <td>
                                <a href="" ng-click="deleteRole(role)">删除</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="span12">
                        <gpower-page conf="pageConf"></gpower-page>
                    </div>
                </div>
            </div>
            <!-- END EXAMPLE TABLE PORTLET-->
        </div>
    </div>
    <div class="modal fade" id="roleModal" role="dialog" aria-labelledby="roleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title" id="roleModalLabel" ng-bind="formName"></h4>
                </div>
                <div class="modal-body">
                    <form name="roleForm" id="roleForm" class="form-horizontal" novalidate="novalidate">
                        <div class="form-body">
                            <div class="form-group  margin-top-20">
                                <label class="control-label col-md-3">角色名
                                    <span class="required"> * </span>
                                </label>
                                <div class="col-md-6">
                                    <div class="input-icon right">
                                        <i class="fa"></i>
                                        <input type="text" class="form-control" name="name" ng-model="role.name"/>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group  margin-top-20">
                                <label class="control-label col-md-3">角色code
                                    <span class="required"> * </span>
                                </label>
                                <div class="col-md-6">
                                    <div class="input-icon right">
                                        <i class="fa"></i>
                                        <input type="text" class="form-control" name="code" ng-model="role.code"/>
                                    </div>
                                    <small><span style="color: red;" ng-show="roleCodeRepeat"> code已存在</span></small>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <h4 class="modal-title" id="rolePermissionModalLabel">权限配置</h4>
                                <a href="" class="icon-btn span2" ng-repeat="permission in permissionList"
                                   ng-click="clickPermission(permission)">
                                    <div ng-bind="permission.name"></div>
                                    <span class="badge badge-success" ng-show="permission.checked"><i
                                            class="glyphicon glyphicon-ok"></i></span>
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                    <button type="submit" class="btn btn-primary blue" ng-disabled="roleCodeRepeat"
                            ng-click="submitRoleForm()">确定
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>